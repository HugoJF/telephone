# vim: set sts=2 ts=8 sw=2 tw=99 et ft=python:
import os

binary = Telephone.Program(builder, 'telephone')

binary.compiler.includes += [
  os.path.join(builder.sourcePath, 'silk', 'include'),
  os.path.join(builder.sourcePath, 'sdl', 'include'),
]

binary.sources += [
  'main.cpp',
  'crc32.cpp'
]

binary.compiler.postlink += [
  Telephone.silk_sdk.binary,
]

if builder.target_platform == 'windows':
  binary.compiler.postlink += [
    os.path.join(builder.sourcePath, 'sdl', 'lib', 'SDL2.lib'),
    os.path.join(builder.sourcePath, 'sdl', 'lib', 'SDL2main.lib'),
  ]
else:
  binary.compiler.linkflags += [
    '-lSDL2'
  ]

builder.Add(binary)
